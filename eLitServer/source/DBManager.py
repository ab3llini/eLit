# -*- coding: UTF-8 -*-

from pymongo import MongoClient
import mongoengine as me
from database_classes import *
from random import randint
import random
from faker import Faker
fake = Faker('it_IT')


class DBManager:
    def __init__(self, host: str, port: int):
        self.__host = host
        self.__port = port
        print('connecting...')
        self.__client = MongoClient(host=self.__host, port=self.__port)
        print('connected')
        self.__db = self.__client['eLit']
        print(self.__db.last_status())


def create_cocktail():
    ing1 = Ingredient(name='ing1', grade=1, ingredient_description='Ingrediente 1')
    ing2 = Ingredient(name='ing2', grade=2, ingredient_description='Ingrediente 2')
    ing3 = Ingredient(name='ing3', grade=3, ingredient_description='Ingrediente 3')
    component1 = DrinkComponent(ingredient=ing1, qty=2, unit=PART)
    component2 = DrinkComponent(ingredient=ing2, qty=1, unit=PART)
    component3 = DrinkComponent(ingredient=ing3, qty=5, unit=PART)
    step1 = RecipeStep(step_description='Mix component1 with component2', components=[component1, component2])
    step2 = RecipeStep(step_description='Add component3', components=[component3])
    recipe = Recipe(steps=[step1, step2])
    cat = DrinkCategory(name='Test2', image='Test2.png')
    drink = Drink(name='Drink1', category=cat, degree=20, image='http://test.me', description='Best drink ever', recipe=recipe)
    drink.save()


if __name__ == '__main__':

    me.connect('eLit', host='localhost', port=27017)

    drinks = Drink.objects
    user = User(name='eLit User', family_name='eLit User', email='elituser@gmail.com', user_id='103344240507012394559').save()

    emojis = ['😀','😁','😂','😃','😄','😅','😆','😇','😈','👿','😉','😊','☺️','😋','😌','😍','😎','😏','😐','😑','😒','😓','😔','😕','😖','😗','😘','😙','😚','😛','😜','😝','😞','😟','😠','😡','😢','😣','😤','😥','😦','😧','😨','😩','😪','😫','😬','😭','😮','😯','😰','😱','😲','😳','😴','😵','😶','😷','😸','😹','😺','😻','😼','😽','😾','😿','🙀','👣','👤','👥','👶','👶🏻','👶🏼','👶🏽','👶🏾','👶🏿','👦','👦🏻','👦🏼','👦🏽','👦🏾','👦🏿','👧','👧🏻','👧🏼','👧🏽','👧🏾','👧🏿','👨','👨🏻','👨🏼','👨🏽','👨🏾','👨🏿','👩','👩🏻','👩🏼','👩🏽','👩🏾','👩🏿','👪','👨‍👩‍👧','👨‍👩‍👧‍👦','👨‍👩‍👦‍👦','👨‍👩‍👧‍👧','👩‍👩‍👦','👩‍👩‍👧','👩‍👩‍👧‍👦','👩‍👩‍👦‍👦','👩‍👩‍👧‍👧','👨‍👨‍👦','👨‍👨‍👧','👨‍👨‍👧‍👦','👨‍👨‍👦‍👦','👨‍👨‍👧‍👧','👫','👬','👭','👯','👰','👰🏻','👰🏼','👰🏽','👰🏾','👰🏿','👱','👱🏻','👱🏼','👱🏽','👱🏾','👱🏿','👲','👲🏻','👲🏼','👲🏽','👲🏾','👲🏿','👳','👳🏻','👳🏼','👳🏽','👳🏾','👳🏿','👴','👴🏻','👴🏼','👴🏽','👴🏾','👴🏿','👵','👵🏻','👵🏼','👵🏽','👵🏾','👵🏿','👮','👮🏻','👮🏼','👮🏽','👮🏾','👮🏿','👷','👷🏻','👷🏼','👷🏽','👷🏾','👷🏿','👸','👸🏻','👸🏼','👸🏽','👸🏾','👸🏿','💂','💂🏻','💂🏼','💂🏽','💂🏾','💂🏿','👼','👼🏻','👼🏼','👼🏽','👼🏾','👼🏿','🎅','🎅🏻','🎅🏼','🎅🏽','🎅🏾','🎅🏿','👻','👹','👺','💩','💀','👽','👾','🙇','🙇🏻','🙇🏼','🙇🏽','🙇🏾','🙇🏿','💁','💁🏻','💁🏼','💁🏽','💁🏾','💁🏿','🙅','🙅🏻','🙅🏼','🙅🏽','🙅🏾','🙅🏿','🙆','🙆🏻','🙆🏼','🙆🏽','🙆🏾','🙆🏿','🙋','🙋🏻','🙋🏼','🙋🏽','🙋🏾','🙋🏿','🙎','🙎🏻','🙎🏼','🙎🏽','🙎🏾','🙎🏿','🙍','🙍🏻','🙍🏼','🙍🏽','🙍🏾','🙍🏿','💆','💆🏻','💆🏼','💆🏽','💆🏾','💆🏿','💇','💇🏻','💇🏼','💇🏽','💇🏾','💇🏿','💑','👩‍❤️‍👩','👨‍❤️‍👨','💏','👩‍❤️‍💋‍👩','👨‍❤️‍💋‍👨','🙌','🙌🏻','🙌🏼','🙌🏽','🙌🏾','🙌🏿','👏','👏🏻','👏🏼','👏🏽','👏🏾','👏🏿','👂','👂🏻','👂🏼','👂🏽','👂🏾','👂🏿','👀','👃','👃🏻','👃🏼','👃🏽','👃🏾','👃🏿','👄','💋','👅','💅','💅🏻','💅🏼','💅🏽','💅🏾','💅🏿','👋','👋🏻','👋🏼','👋🏽','👋🏾','👋🏿','👍','👍🏻','👍🏼','👍🏽','👍🏾','👍🏿','👎','👎🏻','👎🏼','👎🏽','👎🏾','👎🏿','☝','☝🏻','☝🏼','☝🏽','☝🏾','☝🏿','👆','👆🏻','👆🏼','👆🏽','👆🏾','👆🏿','👇','👇🏻','👇🏼','👇🏽','👇🏾','👇🏿','👈','👈🏻','👈🏼','👈🏽','👈🏾','👈🏿','👉','👉🏻','👉🏼','👉🏽','👉🏾','👉🏿','👌','👌🏻','👌🏼','👌🏽','👌🏾','👌🏿','✌','✌🏻','✌🏼','✌🏽','✌🏾','✌🏿','👊','👊🏻','👊🏼','👊🏽','👊🏾','👊🏿','✊','✊🏻','✊🏼','✊🏽','✊🏾','✊🏿','✋','✋🏻','✋🏼','✋🏽','✋🏾','✋🏿','💪','💪🏻','💪🏼','💪🏽','💪🏾','💪🏿','👐','👐🏻','👐🏼','👐🏽','👐🏾','👐🏿','🙏','🙏🏻','🙏🏼','🙏🏽','🙏🏾','🙏🏿','🌱','🌲','🌳','🌴','🌵','🌷','🌸','🌹','🌺','🌻','🌼','💐','🌾','🌿','🍀','🍁','🍂','🍃','🍄','🌰','🐀','🐁','🐭','🐹','🐂','🐃','🐄','🐮','🐅','🐆','🐯','🐇','🐰','🐈','🐱','🐎','🐴','🐏','🐑','🐐','🐓','🐔','🐤','🐣','🐥','🐦','🐧','🐘','🐪','🐫','🐗','🐖','🐷','🐽','🐕','🐩','🐶','🐺','🐻','🐨','🐼','🐵','🙈','🙉','🙊','🐒','🐉','🐲','🐊','🐍','🐢','🐸','🐋','🐳','🐬','🐙','🐟','🐠','🐡','🐚','🐌','🐛','🐜','🐝','🐞','🐾','⚡️','🔥','🌙','☀️','⛅️','☁️','💧','💦','☔️','💨','❄️','🌟','⭐️','🌠','🌄','🌅','🌈','🌊','🌋','🌌','🗻','🗾','🌐','🌍','🌎','🌏','🌑','🌒','🌓','🌔','🌕','🌖','🌗','🌘','🌚','🌝','🌛','🌜','🌞','🍅','🍆','🌽','🍠','🍇','🍈','🍉','🍊','🍋','🍌','🍍','🍎','🍏','🍐','🍑','🍒','🍓','🍔','🍕','🍖','🍗','🍘','🍙','🍚','🍛','🍜','🍝','🍞','🍟','🍡','🍢','🍣','🍤','🍥','🍦','🍧','🍨','🍩','🍪','🍫','🍬','🍭','🍮','🍯','🍰','🍱','🍲','🍳','🍴','🍵','☕️','🍶','🍷','🍸','🍹','🍺','🍻','🍼','🎀','🎁','🎂','🎃','🎄','🎋','🎍','🎑','🎆','🎇','🎉','🎊','🎈','💫','✨','💥','🎓','👑','🎎','🎏','🎐','🎌','🏮','💍','❤️','💔','💌','💕','💞','💓','💗','💖','💘','💝','💟','💜','💛','💚','💙','🏃','🏃🏻','🏃🏼','🏃🏽','🏃🏾','🏃🏿','🚶','🚶🏻','🚶🏼','🚶🏽','🚶🏾','🚶🏿','💃','💃🏻','💃🏼','💃🏽','💃🏾','💃🏿','🚣','🚣🏻','🚣🏼','🚣🏽','🚣🏾','🚣🏿','🏊','🏊🏻','🏊🏼','🏊🏽','🏊🏾','🏊🏿','🏄','🏄🏻','🏄🏼','🏄🏽','🏄🏾','🏄🏿','🛀','🛀🏻','🛀🏼','🛀🏽','🛀🏾','🛀🏿','🏂','🎿','⛄️','🚴','🚴🏻','🚴🏼','🚴🏽','🚴🏾','🚴🏿','🚵','🚵🏻','🚵🏼','🚵🏽','🚵🏾','🚵🏿','🏇','🏇🏻','🏇🏼','🏇🏽','🏇🏾','🏇🏿','⛺️','🎣','⚽️','🏀','🏈','⚾️','🎾','🏉','⛳️','🏆','🎽','🏁','🎹','🎸','🎻','🎷','🎺','🎵','🎶','🎼','🎧','🎤','🎭','🎫','🎩','🎪','🎬','🎨','🎯','🎱','🎳','🎰','🎲','🎮','🎴','🃏','🀄️','🎠','🎡','🎢','🚃','🚞','🚂','🚋','🚝','🚄','🚅','🚆','🚇','🚈','🚉','🚊','🚌','🚍','🚎','🚐','🚑','🚒','🚓','🚔','🚨','🚕','🚖','🚗','🚘','🚙','🚚','🚛','🚜','🚲','🚏','⛽️','🚧','🚦','🚥','🚀','🚁','✈️','💺','⚓️','🚢','🚤','⛵️','🚡','🚠','🚟','🛂','🛃','🛄','🛅','💴','💶','💷','💵','🗽','🗿','🌁','🗼','⛲️','🏰','🏯','🌇','🌆','🌃','🌉','🏠','🏡','🏢','🏬','🏭','🏣','🏤','🏥','🏦','🏨','🏩','💒','⛪️','🏪','🏫','🇦🇺','🇦🇹','🇧🇪','🇧🇷','🇨🇦','🇨🇱','🇨🇳','🇨🇴','🇩🇰','🇫🇮','🇫🇷','🇩🇪','🇭🇰','🇮🇳','🇮🇩','🇮🇪','🇮🇱','🇮🇹','🇯🇵','🇰🇷','🇲🇴','🇲🇾','🇲🇽','🇳🇱','🇳🇿','🇳🇴','🇵🇭','🇵🇱','🇵🇹','🇵🇷','🇷🇺','🇸🇦','🇸🇬','🇿🇦','🇪🇸','🇸🇪','🇨🇭','🇹🇷','🇬🇧','🇺🇸','🇦🇪','🇻🇳','⌚️','📱','📲','💻','⏰','⏳','⌛️','📷','📹','🎥','📺','📻','📟','📞','☎️','📠','💽','💾','💿','📀','📼','🔋','🔌','💡','🔦','📡','💳','💸','💰','💎','🌂','👝','👛','👜','💼','🎒','💄','👓','👒','👡','👠','👢','👞','👟','👙','👗','👘','👚','👕','👔','👖','🚪','🚿','🛁','🚽','💈','💉','💊','🔬','🔭','🔮','🔧','🔪','🔩','🔨','💣','🚬','🔫','🔖','📰','🔑','✉️','📩','📨','📧','📥','📤','📦','📯','📮','📪','📫','📬','📭','📄','📃','📑','📈','📉','📊','📅','📆','🔅','🔆','📜','📋','📖','📓','📔','📒','📕','📗','📘','📙','📚','📇','🔗','📎','📌','✂️','📐','📍','📏','🚩','📁','📂','✒️','✏️','📝','🔏','🔐','🔒','🔓','📣','📢','🔈','🔉','🔊','🔇','💤','🔔','🔕','💭','💬','🚸','🔍','🔎','🚫','⛔️','📛','🚷','🚯','🚳','🚱','📵','🔞','🉑','🉐','💮','㊙️','㊗️','🈴','🈵','🈲','🈶','🈚️','🈸','🈺','🈷','🈹','🈳','🈂','🈁','🈯️','💹','❇️','✳️','❎','✅','✴️','📳','📴','🆚','🅰','🅱','🆎','🆑','🅾','🆘','🆔','🅿️','🚾','🆒','🆓','🆕','🆖','🆗','🆙','🏧','♈️','♉️','♊️','♋️','♌️','♍️','♎️','♏️','♐️','♑️','♒️','♓️','🚻','🚹','🚺','🚼','♿️','🚰','🚭','🚮','▶️','◀️','🔼','🔽','⏩','⏪','⏫','⏬','➡️','⬅️','⬆️','⬇️','↗️','↘️','↙️','↖️','↕️','↔️','🔄','↪️','↩️','⤴️','⤵️','🔀','🔁','🔂','#⃣','0⃣','1⃣','2⃣','3⃣','4⃣','5⃣','6⃣','7⃣','8⃣','9⃣','🔟','🔢','🔤','🔡','🔠','ℹ️','📶','🎦','🔣','➕','➖','〰','➗','✖️','✔️','🔃','™','©','®','💱','💲','➰','➿','〽️','❗️','❓','❕','❔','‼️','⁉️','❌','⭕️','💯','🔚','🔙','🔛','🔝','🔜','🌀','Ⓜ️','⛎','🔯','🔰','🔱','⚠️','♨️','♻️','💢','💠','♠️','♣️','♥️','♦️','☑️','⚪️','⚫️','🔘','🔴','🔵','🔺','🔻','🔸','🔹','🔶','🔷','▪️','▫️','⬛️','⬜️','◼️','◻️','◾️','◽️','🔲','🔳','🕐','🕑','🕒','🕓','🕔','🕕','🕖','🕗','🕘','🕙','🕚','🕛','🕜','🕝','🕞','🕟','🕠','🕡','🕢','🕣','🕤','🕥','🕦','🕧']

    for drink in drinks:
        for i in range(15):
            Review(
                title=random.choice(emojis) + ' This is a review ' + random.choice(emojis),
                text='Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. '
                     'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. '
                     'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.',
                rating=float(randint(2, 5)),
                for_drink=drink,
                written_by=user,
                timestamp=fake.date_time_between(start_date='-1y', end_date='now')
            ).save()

'''
if __name__ == '__main__':
    # dbm = DBManager('192.168.178.37', 27017)
    me.connect('eLit', host='localhost', port=27017)
    # _ = Test(title='Luca').save()
    # _ = Test(title='Piero').save()
    create_cocktail()
    obj = [*Drink.objects, *DrinkComponent.objects, *Ingredient.objects, *Recipe.objects, *RecipeStep.objects]
    for o in obj:
        print(o.to_json())
    # for drink in drinks:
        # drink.delete()
        # print(str(drink.id))
    print('*'*300)
    obj = Review.objects(for_drink='5c61c88cc7170d4d4fc70d4d').get()
    print(obj.to_dict())

    print(Drink.objects(name='vsbvsb').get().category.name)
'''